<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <title>Attendance</title>
    <style>
        /* 1. Exact Sidebar Color from your image */
        .sidebar-blue {
            background-color: #009be5 !important; /* Matches the bright blue in image */
            color: white !important;
        }
        
        /* 2. Custom CSS to make the Table look like a Grid (Vertical Lines) */
        .grid-table {
            border-collapse: collapse;
            width: 100%;
        }
        .grid-table th, .grid-table td {
            border: 1px solid #999; /* Grey borders for all cells */
            padding: 8px;
            text-align: center; /* Center align all text */
        }
        .grid-table th {
            border: 1px solid #999;
            padding: 8px;
            text-align: center;
            font-weight: normal;
            color: #666;
            text-transform: uppercase;
        }

        .grid-table thead th {
            background: #3f51b5;
            color: white;
            font-weight: bold;
        }

        /* 3. Button Hover Effect */
        .btn-hover:hover {
            opacity: 0.8;
            cursor: pointer;
        }
        
        /* Font sizing adjustments to match image */
        .header-text { font-size: 18px; color: #777; }
        .label-text { font-size: 14px; color: #777; margin-right: 5px; }

        thead th {
            background: #3f51b5;
            color: white;
            font-weight: bold;
        }
    </style>
</head>
<body class="w3-white">

    <div class="w3-bar w3-indigo w3-text-white w3-top" style="z-index:4">
        <div class="w3-bar-item w3-large">Python(20420) 10:30 - 12:01 MW</div>
    </div>

    <div class="w3-sidebar w3-bar-block sidebar-blue" style="width:240px; top:43px; z-index:3;">
        <div style="margin-top: 20px;"></div> 
        <a href="/admin" class="w3-bar-item w3-button w3-padding-16">USER MANAGEMENT</a>
        <a href="/studentmngt" class="w3-bar-item w3-button w3-padding-16">STUDENT MANAGEMENT</a>
        <a href="/attendance" class="w3-bar-item w3-button w3-padding-16 w3-white w3-text-blue">VIEW ATTENDANCE</a>
        <a href="/logout" class="w3-bar-item w3-button w3-padding-16">LOGOUT</a>
    </div>

    <div style="margin-left: 240px; margin-top: 43px; display: flex; flex-direction: column; min-height: 100vh;">
        
        <div class="w3-container" style="padding: 20px 30px;">

            <div class="w3-row w3-margin-bottom" style="margin-top: 15px;">
                
                <div class="w3-col m5">
                    <span class="header-text w3-text-black">VIEW ATTENDANCE</span>
                </div>

                <div class="w3-col m7 w3-right-align">
                    <form action="/attendance" method="get" style="display: inline-flex; align-items: center; gap: 6px;">
                        <span class="label-text">SELECT DATE</span>
                        <input name="date" type="date" class="w3-border" style="padding: 5px; width: 160px;" value="{{ selected_date }}">
                        <button type="submit" class="w3-button sidebar-blue btn-hover" style="padding: 6px 20px;">GO</button>
                    </form>
                </div>
            </div>

            <table class="grid-table w3-white">
                <thead>
                    <tr>
                        <th style="width: 50px;">#</th>
                        <th>IDNO</th>
                        <th>LASTNAME</th>
                        <th>FIRSTNAME</th>
                        <th>COURSE &nbsp; LEVEL</th> 
                        <th>DATE</th>
                        <th>TIME-IN</th>
                    </tr>
                </thead>
                <tbody>
                    {% for record in attendance_records %}
                    <tr style="height: 40px;">
                        <td>{{ loop.index }}</td>
                        <td>{{ record.student_id }}</td>
                        <td>{{ record.last_name }}</td>
                        <td>{{ record.first_name }}</td>
                        <td>{{ record.course }} {{ record.level }}</td>
                        <td>{{ record.date_in }}</td>
                        <td>{{ record.time_in }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <footer class="w3-container w3-center" style="margin-top: auto; padding: 15px;">
            <hr class="w3-border-grey">
            <p class="w3-small w3-text-grey">Jude Khalil Veloso, Rasheed Boriss Yap, 2025</p>
        </footer>

    </div>

</body>
</html>